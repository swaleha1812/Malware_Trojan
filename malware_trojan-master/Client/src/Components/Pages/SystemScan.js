import React, { useState } from 'react';
import './SystemScan.css';
import Sidebar from '../Dashboard/Sidebar';
import Box from '@mui/material/Box';

const SystemScan = () => {
  const [isScanning, setIsScanning] = useState(false);
  const [scanResult, setScanResult] = useState('');

  const handleScan = async () => {
    setIsScanning(true);
    setScanResult('Scanning in progress...');

    // Simulate system scanning (replace with actual scanning logic for production)
    await new Promise((resolve) => setTimeout(resolve, 10000)); // Delay for simulation

    const hasMaliciousFiles = true; // Replace with actual scan result

    setIsScanning(false);
    setScanResult(hasMaliciousFiles ? 'Malicious files found!' : 'No malicious files detected.');
  };

  return (
    <div>
       <Box height={100} />
      <Box sx={{ display: 'flex' }}>
        <Sidebar />
        <Box component="main" sx={{ flexGrow: 1, p: 3 }}>
          <div className="systemScan">
      <button onClick={handleScan} disabled={isScanning} className="scanButton">
        {isScanning ? 'Scanning...' : ' System Scan'}
      </button>
      {scanResult && <p className='scanMessage'>{scanResult}</p>}
      </div>
        </Box>
      </Box>
    </div>
  );
};

export default SystemScan;
